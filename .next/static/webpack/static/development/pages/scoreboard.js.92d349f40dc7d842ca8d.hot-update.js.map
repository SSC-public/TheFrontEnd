{"version":3,"file":"static/webpack/static/development/pages/scoreboard.js.92d349f40dc7d842ca8d.hot-update.js","sources":["webpack:///./components/dashboard/scoreboard/laptab.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { Table, Pagination, Segment, TableRow, Tab, Header, Menu, Icon } from 'semantic-ui-react';\nimport styled from 'styled-components';\n\nconst TableHeader = styled(Table.HeaderCell)`\n  background: rgba(80, 87, 99, 0.05) !important;\n  border-radius: 0 !important;\n  color: black !important;\n`;\n\nconst TableCell = styled(Table.Cell)`\n  border-top: ${(props) => props.border} !important;\n  border-bottom: ${(props) => props.border} !important;\n`;\n\nconst Info = styled.p`\n  text-align: left;\n  margin-top: 1rem;\n  margin-left: 1rem;\n`;\n\nconst GenerateMyRow = ({ team }) => {\n  const color = '#00000066';\n  const border = `3px solid ${color}`;\n  return (\n    <Table.Row warning>\n      <Table.Cell textAlign=\"center\" style={{ marginLeft: '3rem !important' }}>\n        {team.total_score}\n      </Table.Cell>\n\n      {team.scores.map((score) => {\n        return <TableCell textAlign=\"center\">{score}</TableCell>;\n      })}\n\n      <Table.Cell textAlign=\"center\" border={border}>\n        {team.name}\n      </Table.Cell>\n      <Table.Cell textAlign=\"center\" border={border}>\n        {team.rank}\n      </Table.Cell>\n    </Table.Row>\n  );\n};\n\nconst GenerateRows = ({ myName, teams, topRank }) => {\n  let firstRank = topRank - 1\n  let endRank = topRank + 19\n  let numberOfTeams = teams.length\n  if (endRank > numberOfTeams) {\n    endRank = numberOfTeams\n  }\n\n  let newTeams = teams.slice(firstRank, endRank)\n\n  const rows = newTeams.map((x) => {\n    let background = '#f8f8fa';\n    const rank = x.rank;\n    if (rank <= 3) background = '#fed76673';\n    else if (rank <= 6) background = '#bbbbbb73';\n    else if (rank <= 9) background = '#cd7f3273';\n    const borderRight = `3px solid ${background} !important`;\n    if (x.name === myName) return <GenerateMyRow team={x} />;\n\n    return (\n      <Table.Row style={{ background }}>\n        <Table.Cell textAlign=\"center\" style={{ marginLeft: '3rem !important' }}>\n          {x.total_score}\n        </Table.Cell>\n\n        {x.scores.map((score) => {\n          return <TableCell textAlign=\"center\">{score}</TableCell>;\n        })}\n\n        <Table.Cell textAlign=\"center\">{x.name}</Table.Cell>\n        <Table.Cell textAlign=\"center\" style={{ borderRight }}>\n          {x.rank}\n        </Table.Cell>\n      </Table.Row>\n    );\n  });\n  return rows;\n};\n\n\nconst Footer = (props) => {\n  const numberOfTeams = props.teams.length;\n  const pageNumbers = Math.ceil(numberOfTeams / 20);\n  console.log(\"page numbers : \", pageNumbers)\n\n  let endRank = props.topRank + 19\n  if (endRank > numberOfTeams) {\n    endRank = numberOfTeams\n  }\n\n  return (\n    <>\n      <Info> {endRank} رتبه‌های {props.topRank} الی</Info>\n\n      <Table.Row>\n        <Table.Row>\n          <Pagination\n            defaultActivePage={1}\n            firstItem={null}\n            lastItem={null}\n            secondary\n            defaultActivePage={pageNumbers}\n            totalPages={pageNumbers}\n            style={{ marginTop: '0.5rem' }}\n            onPageChange={props.changePage}\n          />\n        </Table.Row>\n      </Table.Row>\n    </>\n  );\n};\n\nfunction onPageChange(e, pageInfo) {\n  let newTopRank = (pageInfo.activePage - 1) * 20 + 1\n  this.setState({topRank: newTopRank})\n}\n\nclass Scoreboard extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      milestone: props.milestone,\n      teams: props.teams,\n      tasks: props.tasks,\n      myName: 'parsaalian0',\n      topRank: 1\n    }\n    this.changePage = onPageChange.bind(this)\n  }\n\n  render() {\n    return (\n      <div style={{overflow: 'auto'}}>\n        <Table celled unstackable >\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell textAlign=\"center\">امتیاز</Table.HeaderCell>\n              {this.state.tasks.map((x) => {\n                return <Table.HeaderCell textAlign=\"center\">{x.name}</Table.HeaderCell>;\n              })}\n              <Table.HeaderCell textAlign=\"center\">نام</Table.HeaderCell>\n              <Table.HeaderCell textAlign=\"center\">رتبه</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n\n          <Table.Body>\n            <GenerateRows myName={this.state.myName} teams={this.state.teams} topRank={this.state.topRank} />\n          </Table.Body>\n        </Table>\n\n        <Footer teams={this.state.teams} changePage={this.changePage} topRank={this.state.topRank}/>\n      </div>\n    );\n  }\n}\n\nexport default Scoreboard\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAKA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AAAA;AAPA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AATA;AAUA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AApCA;AACA;AAsCA;;;;A","sourceRoot":""}