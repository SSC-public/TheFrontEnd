{"version":3,"file":"static/webpack/static/development/pages/dashboard/profile.js.58ffa250a039a3a470e1.hot-update.js","sources":["webpack:///./redux/actions/profile.js"],"sourcesContent":["import _ from 'lodash';\nimport { pageLoadingAction } from './page';\nimport { profileUpdateAPI, passwordUpdateAPI } from '../api/dashboard';\n\nexport const PROFILE_CHECK = 'PROFILE_CHECK';\nexport const PROFILE_SUCCESS = 'PROFILE_SUCCESS';\nexport const PROFILE_FAIL = 'PROFILE_FAIL';\nexport const PROFILE_CLEAR = 'PROFILE_CLEAR';\n\nexport function profileClearAction() {\n  return {\n    type: PROFILE_CLEAR,\n  };\n}\n\nexport function profileCheckerAction(fields) {\n  return {\n    type: PROFILE_CHECK,\n    payload: {\n      fields,\n    },\n  };\n}\n\nexport function profileSuccessAction() {\n  return {\n    type: PROFILE_SUCCESS,\n  };\n}\n\nexport function profileFailAction(errors) {\n  return {\n    type: PROFILE_FAIL,\n    payload: {\n      errors,\n    },\n  };\n}\n\nexport function profileUpdateAction(fields, token) {\n  return (dispatch, getState) => {\n    dispatch(pageLoadingAction(true));\n    dispatch(profileCheckerAction(fields));\n    fields = { ...fields.profile };\n    if (_.isEmpty(getState().profile.errors)) {\n      console.log(fields);\n      console.log(token);\n      profileUpdateAPI(fields, token).then((res) => {\n        const { data } = res;\n        console.log(data);\n        if (data.status_code === 200) {\n          dispatch(profileSuccessAction());\n        } else {\n          dispatch(profileFailAction(data.detail));\n        }\n      });\n    } else {\n      dispatch(profileFailAction({}));\n    }\n    dispatch(pageLoadingAction(false));\n  };\n}\n\nexport function passwordUpdateAction(fields, token) {\n  return (dispatch, getState) => {\n    dispatch(pageLoadingAction(true));\n    dispatch(profileCheckerAction(fields));\n    fields = { ...fields.password };\n    console.log(fields)\n    if (fields.new_password1 != '' && !_.isUndefined(fields.new_password1)) {\n      if (_.isEmpty(getState().profile.errors)) {\n        console.log(fields);\n        console.log(token);\n        passwordUpdateAPI(fields, token).then((res) => {\n          const { data } = res;\n          console.log(data);\n          if (data.status_code === 200) {\n            dispatch(profileSuccessAction());\n          } else {\n            dispatch(profileFailAction(data.detail));\n          }\n        });\n      } else {\n        dispatch(profileFailAction({}));\n      }\n    }\n    dispatch(pageLoadingAction(false));\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AAEA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;A","sourceRoot":""}