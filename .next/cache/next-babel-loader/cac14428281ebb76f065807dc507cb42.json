{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Saba/Desktop/Front2/TheFrontEnd/pages/dashboard/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Timeline from '../../components/dashboard/main/milestones';\nimport { contestAPI, milestoneAPI } from \"../../redux/api/dashboard\";\nimport withAuth from \"../../components/global/withAuth\";\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    _classCallCheck(this, Dashboard);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).apply(this, arguments));\n  }\n\n  _createClass(Dashboard, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          milestones = _this$props.milestones,\n          contest = _this$props.contest;\n      return __jsx(React.Fragment, null, __jsx(Timeline, {\n        contest: contest,\n        milestones: milestones,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(ctx, token) {\n        var contestNumber, res, contest, milestones, id, _res, milestone;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                contestNumber = 3;\n                console.log(token);\n                _context.next = 4;\n                return contestAPI(contestNumber, token);\n\n              case 4:\n                res = _context.sent;\n                contest = res.data.contest;\n                console.log(contest);\n                milestones = [];\n                id = 0;\n\n              case 9:\n                if (!(id < contest.milestones.length)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.next = 12;\n                return milestoneAPI(contestNumber, contest.milestones[id], token);\n\n              case 12:\n                _res = _context.sent;\n                milestone = _res.data.milestone;\n                console.log(milestone);\n                milestones.push(milestone);\n\n              case 16:\n                id++;\n                _context.next = 9;\n                break;\n\n              case 19:\n                return _context.abrupt(\"return\", {\n                  contest: contest,\n                  milestones: milestones\n                });\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x, _x2) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Dashboard;\n}(Component);\n\nexport default withAuth(true)(Dashboard);","map":{"version":3,"sources":["/Users/Saba/Desktop/Front2/TheFrontEnd/pages/dashboard/index.jsx"],"names":["React","Component","Timeline","contestAPI","milestoneAPI","withAuth","Dashboard","props","milestones","contest","ctx","token","contestNumber","console","log","res","data","id","length","milestone","push"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,4CAArB;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,2BAAzC;AACA,OAAOC,QAAP,MAAqB,kCAArB;;IAEMC,S;;;;;;;;;;;;;6BAiBK;AAAA,wBACyB,KAAKC,KAD9B;AAAA,UACCC,UADD,eACCA,UADD;AAAA,UACaC,OADb,eACaA,OADb;AAEP,aACE,4BACE,MAAC,QAAD;AAAU,QAAA,OAAO,EAAEA,OAAnB;AAA4B,QAAA,UAAU,EAAED,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD;;;;;;gDAvB4BE,G,EAAKC,K;;;;;;;AAC1BC,gBAAAA,a,GAAgB,C;AACtBC,gBAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;;uBACkBR,UAAU,CAACS,aAAD,EAAgBD,KAAhB,C;;;AAAtBI,gBAAAA,G;AACEN,gBAAAA,O,GAAYM,GAAG,CAACC,I,CAAhBP,O;AACRI,gBAAAA,OAAO,CAACC,GAAR,CAAYL,OAAZ;AACID,gBAAAA,U,GAAa,E;AACRS,gBAAAA,E,GAAK,C;;;sBAAGA,EAAE,GAAGR,OAAO,CAACD,UAAR,CAAmBU,M;;;;;;uBACrBd,YAAY,CAACQ,aAAD,EAAgBH,OAAO,CAACD,UAAR,CAAmBS,EAAnB,CAAhB,EAAwCN,KAAxC,C;;;AAAxBI,gBAAAA,I;AACEI,gBAAAA,S,GAAcJ,IAAG,CAACC,I,CAAlBG,S;AACRN,gBAAAA,OAAO,CAACC,GAAR,CAAYK,SAAZ;AACAX,gBAAAA,UAAU,CAACY,IAAX,CAAgBD,SAAhB;;;AAJ+CF,gBAAAA,EAAE,E;;;;;iDAM5C;AAAER,kBAAAA,OAAO,EAAPA,OAAF;AAAWD,kBAAAA,UAAU,EAAVA;AAAX,iB;;;;;;;;;;;;;;;;;;;EAdaP,S;;AA2BxB,eAAeI,QAAQ,CAAC,IAAD,CAAR,CAAeC,SAAf,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport Timeline from '../../components/dashboard/main/milestones';\nimport { contestAPI, milestoneAPI } from '~/redux/api/dashboard';\nimport withAuth from '~/components/global/withAuth';\n\nclass Dashboard extends Component {\n  static async getInitialProps(ctx, token) {\n    const contestNumber = 3\n    console.log(token)\n    const res = await contestAPI(contestNumber, token);\n    const { contest } = res.data;\n    console.log(contest)\n    let milestones = [];\n    for (let id = 0; id < contest.milestones.length; id++) {\n      const res = await milestoneAPI(contestNumber, contest.milestones[id], token);\n      const { milestone } = res.data;\n      console.log(milestone)\n      milestones.push(milestone);\n    }\n    return { contest, milestones };\n  }\n\n  render() {\n    const { milestones, contest } = this.props;\n    return (\n      <>\n        <Timeline contest={contest} milestones={milestones} />\n      </>\n    );\n  }\n}\n\nexport default withAuth(true)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}