{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport { refreshAPI } from \"../../../redux/api/auth\";\nexport function getToken(_x) {\n  return _getToken.apply(this, arguments);\n}\n\nfunction _getToken() {\n  _getToken = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(token) {\n    var newAccess, newAccessJson;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch(refreshAPI(), {\n              method: 'post',\n              headers: {\n                'content-type': 'application/json'\n              },\n              body: _JSON$stringify({\n                refresh: token.refresh\n              })\n            });\n\n          case 2:\n            newAccess = _context.sent;\n            _context.next = 5;\n            return newAccess.json();\n\n          case 5:\n            newAccessJson = _context.sent;\n            token = {\n              refresh: token.refresh,\n              access: newAccessJson.access\n            };\n            return _context.abrupt(\"return\", token);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getToken.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/Saba/Desktop/Front2/TheFrontEnd/components/dashboard/main/api.jsx"],"names":["refreshAPI","getToken","token","fetch","method","headers","body","refresh","newAccess","json","newAccessJson","access"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,yBAA3B;AAEA,gBAAsBC,QAAtB;AAAA;AAAA;;;;;2BAAO,iBAAwBC,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACmBC,KAAK,CAACH,UAAU,EAAX,EAAe;AAC1CI,cAAAA,MAAM,EAAE,MADkC;AAE1CC,cAAAA,OAAO,EAAE;AAAE,gCAAgB;AAAlB,eAFiC;AAG1CC,cAAAA,IAAI,EAAE,gBAAe;AACnBC,gBAAAA,OAAO,EAAEL,KAAK,CAACK;AADI,eAAf;AAHoC,aAAf,CADxB;;AAAA;AACCC,YAAAA,SADD;AAAA;AAAA,mBAQuBA,SAAS,CAACC,IAAV,EARvB;;AAAA;AAQCC,YAAAA,aARD;AASLR,YAAAA,KAAK,GAAG;AACNK,cAAAA,OAAO,EAAEL,KAAK,CAACK,OADT;AAENI,cAAAA,MAAM,EAAED,aAAa,CAACC;AAFhB,aAAR;AATK,6CAaET,KAbF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { refreshAPI } from '~/redux/api/auth';\n\nexport async function getToken(token) {\n  const newAccess = await fetch(refreshAPI(), {\n    method: 'post',\n    headers: { 'content-type': 'application/json' },\n    body: JSON.stringify({\n      refresh: token.refresh,\n    }),\n  });\n  const newAccessJson = await newAccess.json();\n  token = {\n    refresh: token.refresh,\n    access: newAccessJson.access,\n  };\n  return token;\n}\n"]},"metadata":{},"sourceType":"module"}