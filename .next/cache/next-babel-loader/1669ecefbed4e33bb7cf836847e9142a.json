{"ast":null,"code":"var _jsxFileName = \"/Users/Saba/Desktop/Front2/TheFrontEnd/pages/dashboard/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Navbar from \"../../components/dashboard/navbar\";\nimport Timeline from '../../components/dashboard/main/milestones';\nimport { contestMilestoneListAPI, milestoneTaskListAPI } from \"../../redux/api/dashboard\";\nimport { getToken } from \"../../components/dashboard/main/api\";\nimport nextCookie from 'next-cookies';\nexport default class dashboard extends Component {\n  static async getInitialProps(ctx) {\n    let {\n      token\n    } = nextCookie(ctx);\n    token = await getToken(token);\n    const res = await fetch(contestMilestoneListAPI(1), {\n      headers: {\n        Authorization: `Bearer ${token ? token.access : token}`\n      }\n    });\n    let contest = await res.json();\n    contest = contest.contest;\n    let milestones = [];\n\n    for (let id = 0; id < contest.milestones.length; id++) {\n      const res = await fetch(milestoneTaskListAPI(1, contest.milestones[id]), {\n        headers: {\n          Authorization: `Bearer ${token ? token.access : token}`\n        }\n      });\n      let milestone = await res.json();\n      milestone = milestone.milestone;\n      milestones.push(milestone);\n    }\n\n    return {\n      contest,\n      milestones\n    };\n  }\n\n  render() {\n    const {\n      milestones,\n      contest\n    } = this.props;\n    return __jsx(React.Fragment, null, __jsx(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), __jsx(Timeline, {\n      contest: contest,\n      milestones: milestones,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/Saba/Desktop/Front2/TheFrontEnd/pages/dashboard/index.jsx"],"names":["React","Component","Navbar","Timeline","contestMilestoneListAPI","milestoneTaskListAPI","getToken","nextCookie","dashboard","getInitialProps","ctx","token","res","fetch","headers","Authorization","access","contest","json","milestones","id","length","milestone","push","render","props"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mCAAnB;AACA,OAAOC,QAAP,MAAqB,4CAArB;AACA,SAASC,uBAAT,EAAkCC,oBAAlC,QAA8D,2BAA9D;AACA,SAASC,QAAT,QAAyB,qCAAzB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,eAAe,MAAMC,SAAN,SAAwBP,SAAxB,CAAkC;AAC/C,eAAaQ,eAAb,CAA6BC,GAA7B,EAAkC;AAChC,QAAI;AAAEC,MAAAA;AAAF,QAAYJ,UAAU,CAACG,GAAD,CAA1B;AACAC,IAAAA,KAAK,GAAG,MAAML,QAAQ,CAACK,KAAD,CAAtB;AACA,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAACT,uBAAuB,CAAC,CAAD,CAAxB,EAA6B;AAClDU,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASJ,KAAK,GAAGA,KAAK,CAACK,MAAT,GAAkBL,KAAM;AAD/C;AADyC,KAA7B,CAAvB;AAKA,QAAIM,OAAO,GAAG,MAAML,GAAG,CAACM,IAAJ,EAApB;AACAD,IAAAA,OAAO,GAAGA,OAAO,CAACA,OAAlB;AAEA,QAAIE,UAAU,GAAG,EAAjB;;AACA,SAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGH,OAAO,CAACE,UAAR,CAAmBE,MAAzC,EAAiDD,EAAE,EAAnD,EAAuD;AACrD,YAAMR,GAAG,GAAG,MAAMC,KAAK,CAACR,oBAAoB,CAAC,CAAD,EAAIY,OAAO,CAACE,UAAR,CAAmBC,EAAnB,CAAJ,CAArB,EAAkD;AACvEN,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASJ,KAAK,GAAGA,KAAK,CAACK,MAAT,GAAkBL,KAAM;AAD/C;AAD8D,OAAlD,CAAvB;AAKA,UAAIW,SAAS,GAAG,MAAMV,GAAG,CAACM,IAAJ,EAAtB;AACAI,MAAAA,SAAS,GAAGA,SAAS,CAACA,SAAtB;AACAH,MAAAA,UAAU,CAACI,IAAX,CAAgBD,SAAhB;AACD;;AACD,WAAO;AAAEL,MAAAA,OAAF;AAAWE,MAAAA;AAAX,KAAP;AACD;;AAEDK,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEL,MAAAA,UAAF;AAAcF,MAAAA;AAAd,QAA0B,KAAKQ,KAArC;AACA,WACE,4BACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,MAAC,QAAD;AAAU,MAAA,OAAO,EAAER,OAAnB;AAA4B,MAAA,UAAU,EAAEE,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAMD;;AAlC8C","sourcesContent":["import React, { Component } from 'react';\nimport Navbar from '~/components/dashboard/navbar';\nimport Timeline from '../../components/dashboard/main/milestones';\nimport { contestMilestoneListAPI, milestoneTaskListAPI } from '~/redux/api/dashboard';\nimport { getToken } from '~/components/dashboard/main/api';\nimport nextCookie from 'next-cookies';\n\nexport default class dashboard extends Component {\n  static async getInitialProps(ctx) {\n    let { token } = nextCookie(ctx);\n    token = await getToken(token);\n    const res = await fetch(contestMilestoneListAPI(1), {\n      headers: {\n        Authorization: `Bearer ${token ? token.access : token}`,\n      },\n    });\n    let contest = await res.json();\n    contest = contest.contest;\n\n    let milestones = [];\n    for (let id = 0; id < contest.milestones.length; id++) {\n      const res = await fetch(milestoneTaskListAPI(1, contest.milestones[id]), {\n        headers: {\n          Authorization: `Bearer ${token ? token.access : token}`,\n        },\n      });\n      let milestone = await res.json();\n      milestone = milestone.milestone;\n      milestones.push(milestone);\n    }\n    return { contest, milestones };\n  }\n\n  render() {\n    const { milestones, contest } = this.props;\n    return (\n      <>\n        <Navbar />\n        <Timeline contest={contest} milestones={milestones} />\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}