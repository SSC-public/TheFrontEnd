{"ast":null,"code":"var __jsx = React.createElement;\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { Form, Grid } from 'semantic-ui-react';\nimport Input from '../../input';\nimport Button from '../../button';\nimport check from './check';\nimport { forgotAPI } from \"../../../../redux/api/auth\";\nexport default class ForgotFields extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      errors: {\n        email: false\n      }\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.email = this.email.bind(this);\n  }\n\n  onSubmit() {\n    this.setState(prevState => {\n      const res = check(prevState);\n\n      if (res.problem) {\n        const {\n          notify\n        } = this.props;\n        notify(res.problem);\n      } else {\n        this.email();\n      }\n\n      return {\n        errors: res.errors\n      };\n    });\n  }\n\n  handleChange(event, {\n    name,\n    value\n  }) {\n    this.setState({\n      [name]: value\n    });\n  }\n\n  email() {\n    const {\n      email\n    } = this.state;\n    const {\n      notify\n    } = this.props;\n    axios.post(forgotAPI(), {\n      email\n    }).then(res => {\n      const serverData = res.data;\n\n      if (serverData.status_code !== 200) {\n        notify('emailNotExists');\n      } else {\n        notify('success');\n      }\n    });\n  }\n\n  render() {\n    const {\n      email,\n      errors\n    } = this.state;\n    return __jsx(Grid, {\n      centered: true\n    }, __jsx(Grid.Column, {\n      verticalAlign: \"middle\"\n    }, __jsx(Form, null, __jsx(Form.Group, {\n      dir: \"rtl\"\n    }, __jsx(Input, {\n      width: 16,\n      onChange: this.handleChange,\n      name: \"email\",\n      label: \"\\u0627\\u06CC\\u0645\\u06CC\\u0644\",\n      value: email,\n      error: errors.email\n    })), __jsx(Form.Field, {\n      dir: \"rtl\"\n    }, __jsx(\"a\", {\n      href: \"/login\"\n    }, \"\\u0648\\u0631\\u0648\\u062F\")), __jsx(Button, {\n      onClick: this.onSubmit,\n      color: \"blue\",\n      text: \"\\u0627\\u0631\\u0633\\u0627\\u0644 \\u0627\\u06CC\\u0645\\u06CC\\u0644\"\n    }))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}