{"ast":null,"code":"import _ from 'lodash';\nimport { signupAPI } from '../api/signup';\nexport var SIGNUP_CLEAR = 'SIGNUP_CLEAR';\nexport var SIGNUP_LOAD = 'SIGNUP_LOAD';\nexport var SIGNUP_UNLOAD = 'SIGNUP_UNLOAD';\nexport var SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\nexport var SIGNUP_FAIL = 'SIGNUP_FAIL';\nexport var SIGNUP_CHECK = 'SIGNUP_CHECK';\n\nfunction signupClearAction() {\n  return {\n    type: SIGNUP_CLEAR\n  };\n}\n\nfunction signupLoadAction() {\n  return {\n    type: SIGNUP_LOAD\n  };\n}\n\nfunction signupUnloadAction() {\n  return {\n    type: SIGNUP_UNLOAD\n  };\n}\n\nfunction signupSuccessAction() {\n  return {\n    type: SIGNUP_SUCCESS\n  };\n}\n\nfunction signupFailAction(errors) {\n  return {\n    type: SIGNUP_FAIL,\n    payload: {\n      errors: errors\n    }\n  };\n}\n\nexport function signupCheckerAction(fields) {\n  return {\n    type: SIGNUP_CHECK,\n    payload: {\n      fields: fields\n    }\n  };\n}\nexport function signupAction(fields) {\n  return function (dispatch, getState) {\n    dispatch(signupClearAction());\n    dispatch(signupLoadAction());\n    dispatch(signupCheckerAction(fields));\n\n    if (_.isEmpty(getState().signup.errors)) {\n      signupAPI(fields).then(function (res) {\n        var data = res.data;\n\n        if (data.status_code === 200) {\n          dispatch(signupSuccessAction());\n        } else {\n          dispatch(signupFailAction(data.detail));\n        }\n      });\n    } else {\n      dispatch(signupUnloadAction());\n    }\n  };\n}","map":null,"metadata":{},"sourceType":"module"}