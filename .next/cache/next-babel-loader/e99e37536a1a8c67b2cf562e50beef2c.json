{"ast":null,"code":"import thunk from 'redux-thunk';\nimport logger from 'redux-logger';\nimport { applyMiddleware, createStore } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport reducers from '../reducers';\nimport storeInitialState from './initialState';\n\nfunction makeStore(initialState, _ref) {\n  var isServer = _ref.isServer,\n      req = _ref.req,\n      debug = _ref.debug,\n      storeKey = _ref.storeKey;\n\n  if (isServer) {\n    var _store = createStore(reducers, initialState || storeInitialState, applyMiddleware(thunk, logger));\n\n    return _store;\n  }\n\n  var persistConfig = {\n    key: 'root',\n    storage: storage\n  };\n  var store = createStore(persistReducer(persistConfig, reducers), initialState, applyMiddleware(thunk, logger));\n  store.__PERSISTOR = persistStore(store);\n  return store;\n}\n\nexport default makeStore;","map":null,"metadata":{},"sourceType":"module"}