{"ast":null,"code":"import _ from 'lodash';\nimport produce from 'immer';\nimport cookie from 'js-cookie';\nimport { LOGIN_CLEAR, LOGIN_LOAD, LOGIN_UNLOAD, LOGIN_FAIL, LOGIN_SUCCESS, LOGIN_CHECK, SET_AUTH, LOGOUT } from '../actions/auth';\nimport initialState from '../store/initialState';\n\nfunction loginClearReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.auth;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    draft.loading = false;\n    draft.authorized = false;\n    draft.errors = {};\n    return draft;\n  });\n}\n\nfunction loginLoadReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.auth;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    draft.loading = true;\n    return draft;\n  });\n}\n\nfunction loginUnloadReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.auth;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    draft.loading = false;\n    return draft;\n  });\n}\n\nfunction loginSuccessReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.auth;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    var token = action.payload.token;\n    draft.loading = false;\n    draft.authorized = true;\n    draft.errors = {};\n    cookie.set('token', token, {\n      expires: 1\n    });\n    return draft;\n  });\n}\n\nfunction loginFailReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.auth;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    var errors = action.payload.errors;\n    draft.loading = false;\n    draft.authorized = false;\n    draft.errors = errors;\n    return draft;\n  });\n}\n\nfunction loginCheckerReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.auth;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    var fields = action.payload.fields;\n\n    _.forEach(fields, function (value, key) {\n      if (value === '') {\n        draft.errors[key] = 'فیلد خالی است.';\n      }\n    });\n\n    return draft;\n  });\n}\n\nfunction setAuthReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.auth;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    var auth = action.payload.auth;\n    draft.loading = false;\n    draft.authorized = auth;\n    return draft;\n  });\n}\n\nfunction logoutReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.auth;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    draft.loading = false;\n    draft.authorized = false;\n    cookie.remove('token');\n    return draft;\n  });\n}\n\nfunction authReducers() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.auth;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGIN_CLEAR:\n      return loginClearReducer(state, action);\n\n    case LOGIN_LOAD:\n      return loginLoadReducer(state, action);\n\n    case LOGIN_UNLOAD:\n      return loginUnloadReducer(state, action);\n\n    case LOGIN_FAIL:\n      return loginFailReducer(state, action);\n\n    case LOGIN_SUCCESS:\n      return loginSuccessReducer(state, action);\n\n    case LOGIN_CHECK:\n      return loginCheckerReducer(state, action);\n\n    case SET_AUTH:\n      return setAuthReducer(state, action);\n\n    case LOGOUT:\n      return logoutReducer(state, action);\n\n    default:\n      return state;\n  }\n}\n\nexport default authReducers;","map":{"version":3,"sources":["/Users/parsa/Desktop/everything/projects/ongoing/DataDays/TheFrontEnd/redux/reducers/auth.js"],"names":["_","produce","cookie","LOGIN_CLEAR","LOGIN_LOAD","LOGIN_UNLOAD","LOGIN_FAIL","LOGIN_SUCCESS","LOGIN_CHECK","SET_AUTH","LOGOUT","initialState","loginClearReducer","state","auth","action","draft","loading","authorized","errors","loginLoadReducer","loginUnloadReducer","loginSuccessReducer","token","payload","set","expires","loginFailReducer","loginCheckerReducer","fields","forEach","value","key","setAuthReducer","logoutReducer","remove","authReducers","type"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SACEC,WADF,EAEEC,UAFF,EAGEC,YAHF,EAIEC,UAJF,EAKEC,aALF,EAMEC,WANF,EAOEC,QAPF,EAQEC,MARF,QASO,iBATP;AAUA,OAAOC,YAAP,MAAyB,uBAAzB;;AAEA,SAASC,iBAAT,GAA8D;AAAA,MAAnCC,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;AAC5D,SAAOd,OAAO,CAACY,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/BA,IAAAA,KAAK,CAACC,OAAN,GAAgB,KAAhB;AACAD,IAAAA,KAAK,CAACE,UAAN,GAAmB,KAAnB;AACAF,IAAAA,KAAK,CAACG,MAAN,GAAe,EAAf;AACA,WAAOH,KAAP;AACD,GALa,CAAd;AAMD;;AAED,SAASI,gBAAT,GAA6D;AAAA,MAAnCP,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;AAC3D,SAAOd,OAAO,CAACY,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/BA,IAAAA,KAAK,CAACC,OAAN,GAAgB,IAAhB;AACA,WAAOD,KAAP;AACD,GAHa,CAAd;AAID;;AAED,SAASK,kBAAT,GAA+D;AAAA,MAAnCR,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;AAC7D,SAAOd,OAAO,CAACY,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/BA,IAAAA,KAAK,CAACC,OAAN,GAAgB,KAAhB;AACA,WAAOD,KAAP;AACD,GAHa,CAAd;AAID;;AAED,SAASM,mBAAT,GAAgE;AAAA,MAAnCT,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;AAC9D,SAAOd,OAAO,CAACY,KAAD,EAAQ,UAACG,KAAD,EAAW;AAAA,QACvBO,KADuB,GACbR,MAAM,CAACS,OADM,CACvBD,KADuB;AAE/BP,IAAAA,KAAK,CAACC,OAAN,GAAgB,KAAhB;AACAD,IAAAA,KAAK,CAACE,UAAN,GAAmB,IAAnB;AACAF,IAAAA,KAAK,CAACG,MAAN,GAAe,EAAf;AACAjB,IAAAA,MAAM,CAACuB,GAAP,CAAW,OAAX,EAAoBF,KAApB,EAA2B;AAAEG,MAAAA,OAAO,EAAE;AAAX,KAA3B;AACA,WAAOV,KAAP;AACD,GAPa,CAAd;AAQD;;AAED,SAASW,gBAAT,GAA6D;AAAA,MAAnCd,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;AAC3D,SAAOd,OAAO,CAACY,KAAD,EAAQ,UAACG,KAAD,EAAW;AAAA,QACvBG,MADuB,GACZJ,MAAM,CAACS,OADK,CACvBL,MADuB;AAE/BH,IAAAA,KAAK,CAACC,OAAN,GAAgB,KAAhB;AACAD,IAAAA,KAAK,CAACE,UAAN,GAAmB,KAAnB;AACAF,IAAAA,KAAK,CAACG,MAAN,GAAeA,MAAf;AACA,WAAOH,KAAP;AACD,GANa,CAAd;AAOD;;AAED,SAASY,mBAAT,GAAgE;AAAA,MAAnCf,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;AAC9D,SAAOd,OAAO,CAACY,KAAD,EAAQ,UAACG,KAAD,EAAW;AAAA,QACvBa,MADuB,GACZd,MAAM,CAACS,OADK,CACvBK,MADuB;;AAE/B7B,IAAAA,CAAC,CAAC8B,OAAF,CAAUD,MAAV,EAAkB,UAACE,KAAD,EAAQC,GAAR,EAAgB;AAChC,UAAID,KAAK,KAAK,EAAd,EAAkB;AAChBf,QAAAA,KAAK,CAACG,MAAN,CAAaa,GAAb,IAAoB,gBAApB;AACD;AACF,KAJD;;AAKA,WAAOhB,KAAP;AACD,GARa,CAAd;AASD;;AAED,SAASiB,cAAT,GAA2D;AAAA,MAAnCpB,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;AACzD,SAAOd,OAAO,CAACY,KAAD,EAAQ,UAACG,KAAD,EAAW;AAAA,QACvBF,IADuB,GACdC,MAAM,CAACS,OADO,CACvBV,IADuB;AAE/BE,IAAAA,KAAK,CAACC,OAAN,GAAgB,KAAhB;AACAD,IAAAA,KAAK,CAACE,UAAN,GAAmBJ,IAAnB;AACA,WAAOE,KAAP;AACD,GALa,CAAd;AAMD;;AAED,SAASkB,aAAT,GAA0D;AAAA,MAAnCrB,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;AACxD,SAAOd,OAAO,CAACY,KAAD,EAAQ,UAACG,KAAD,EAAW;AAC/BA,IAAAA,KAAK,CAACC,OAAN,GAAgB,KAAhB;AACAD,IAAAA,KAAK,CAACE,UAAN,GAAmB,KAAnB;AACAhB,IAAAA,MAAM,CAACiC,MAAP,CAAc,OAAd;AACA,WAAOnB,KAAP;AACD,GALa,CAAd;AAMD;;AAED,SAASoB,YAAT,GAAyD;AAAA,MAAnCvB,KAAmC,uEAA3BF,YAAY,CAACG,IAAc;AAAA,MAARC,MAAQ;;AACvD,UAAQA,MAAM,CAACsB,IAAf;AACE,SAAKlC,WAAL;AACE,aAAOS,iBAAiB,CAACC,KAAD,EAAQE,MAAR,CAAxB;;AACF,SAAKX,UAAL;AACE,aAAOgB,gBAAgB,CAACP,KAAD,EAAQE,MAAR,CAAvB;;AACF,SAAKV,YAAL;AACE,aAAOgB,kBAAkB,CAACR,KAAD,EAAQE,MAAR,CAAzB;;AACF,SAAKT,UAAL;AACE,aAAOqB,gBAAgB,CAACd,KAAD,EAAQE,MAAR,CAAvB;;AACF,SAAKR,aAAL;AACE,aAAOe,mBAAmB,CAACT,KAAD,EAAQE,MAAR,CAA1B;;AACF,SAAKP,WAAL;AACE,aAAOoB,mBAAmB,CAACf,KAAD,EAAQE,MAAR,CAA1B;;AACF,SAAKN,QAAL;AACE,aAAOwB,cAAc,CAACpB,KAAD,EAAQE,MAAR,CAArB;;AACF,SAAKL,MAAL;AACE,aAAOwB,aAAa,CAACrB,KAAD,EAAQE,MAAR,CAApB;;AACF;AACE,aAAOF,KAAP;AAlBJ;AAoBD;;AAED,eAAeuB,YAAf","sourcesContent":["import _ from 'lodash';\nimport produce from 'immer';\nimport cookie from 'js-cookie';\nimport {\n  LOGIN_CLEAR,\n  LOGIN_LOAD,\n  LOGIN_UNLOAD,\n  LOGIN_FAIL,\n  LOGIN_SUCCESS,\n  LOGIN_CHECK,\n  SET_AUTH,\n  LOGOUT,\n} from '../actions/auth';\nimport initialState from '../store/initialState';\n\nfunction loginClearReducer(state = initialState.auth, action) {\n  return produce(state, (draft) => {\n    draft.loading = false;\n    draft.authorized = false;\n    draft.errors = {};\n    return draft;\n  });\n}\n\nfunction loginLoadReducer(state = initialState.auth, action) {\n  return produce(state, (draft) => {\n    draft.loading = true;\n    return draft;\n  });\n}\n\nfunction loginUnloadReducer(state = initialState.auth, action) {\n  return produce(state, (draft) => {\n    draft.loading = false;\n    return draft;\n  });\n}\n\nfunction loginSuccessReducer(state = initialState.auth, action) {\n  return produce(state, (draft) => {\n    const { token } = action.payload;\n    draft.loading = false;\n    draft.authorized = true;\n    draft.errors = {};\n    cookie.set('token', token, { expires: 1 });\n    return draft;\n  });\n}\n\nfunction loginFailReducer(state = initialState.auth, action) {\n  return produce(state, (draft) => {\n    const { errors } = action.payload;\n    draft.loading = false;\n    draft.authorized = false;\n    draft.errors = errors;\n    return draft;\n  });\n}\n\nfunction loginCheckerReducer(state = initialState.auth, action) {\n  return produce(state, (draft) => {\n    const { fields } = action.payload;\n    _.forEach(fields, (value, key) => {\n      if (value === '') {\n        draft.errors[key] = 'فیلد خالی است.';\n      }\n    });\n    return draft;\n  });\n}\n\nfunction setAuthReducer(state = initialState.auth, action) {\n  return produce(state, (draft) => {\n    const { auth } = action.payload;\n    draft.loading = false;\n    draft.authorized = auth;\n    return draft;\n  });\n}\n\nfunction logoutReducer(state = initialState.auth, action) {\n  return produce(state, (draft) => {\n    draft.loading = false;\n    draft.authorized = false;\n    cookie.remove('token');\n    return draft;\n  });\n}\n\nfunction authReducers(state = initialState.auth, action) {\n  switch (action.type) {\n    case LOGIN_CLEAR:\n      return loginClearReducer(state, action);\n    case LOGIN_LOAD:\n      return loginLoadReducer(state, action);\n    case LOGIN_UNLOAD:\n      return loginUnloadReducer(state, action);\n    case LOGIN_FAIL:\n      return loginFailReducer(state, action);\n    case LOGIN_SUCCESS:\n      return loginSuccessReducer(state, action);\n    case LOGIN_CHECK:\n      return loginCheckerReducer(state, action);\n    case SET_AUTH:\n      return setAuthReducer(state, action);\n    case LOGOUT:\n      return logoutReducer(state, action);\n    default:\n      return state;\n  }\n}\n\nexport default authReducers;\n"]},"metadata":{},"sourceType":"module"}