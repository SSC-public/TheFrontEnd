{"ast":null,"code":"import thunk from 'redux-thunk';\nimport logger from 'redux-logger';\nimport { applyMiddleware, createStore } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport reducers from '../reducers';\nimport storeInitialState from './initialState';\n\nfunction makeStore(initialState, {\n  isServer,\n  req,\n  debug,\n  storeKey\n}) {\n  if (isServer) {\n    const store = createStore(reducers, initialState || storeInitialState, applyMiddleware(thunk, logger));\n    return store;\n  }\n\n  const persistConfig = {\n    key: 'root',\n    storage\n  };\n  const store = createStore(persistReducer(persistConfig, reducers), initialState, applyMiddleware(thunk, logger));\n  store.__PERSISTOR = persistStore(store);\n  return store;\n}\n\nexport default makeStore;","map":null,"metadata":{},"sourceType":"module"}