{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { Form, Grid } from 'semantic-ui-react';\nimport Input from '../../input';\nimport Button from '../../button';\nimport check from './check';\nimport { forgotAPI } from \"../../../../redux/api/auth\";\nexport default class ForgotFields extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errors: {\n        email: false\n      }\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.sendEmail = this.sendEmail.bind(this);\n  }\n\n  onSubmit() {\n    const {\n      notify\n    } = this.props;\n    const res = check({\n      email: this.email.state.value\n    });\n\n    if (res.problem) {\n      notify(res.problem);\n    } else {\n      this.sendEmail();\n    }\n\n    this.setState({\n      errors: res.errors\n    });\n  }\n\n  sendEmail() {\n    const {\n      notify\n    } = this.props;\n    forgotAPI(this.email.state.value).then(res => {\n      const serverData = res.data;\n\n      if (serverData.status_code !== 200) {\n        notify('emailNotExists');\n      } else {\n        notify('success');\n      }\n    });\n  }\n\n  render() {\n    const {\n      errors\n    } = this.state;\n    return __jsx(Grid, {\n      centered: true\n    }, __jsx(Grid.Column, {\n      verticalAlign: \"middle\"\n    }, __jsx(Form, null, __jsx(Form.Group, {\n      dir: \"rtl\"\n    }, __jsx(Input, {\n      ref: c => {\n        this.email = c;\n      },\n      width: 16,\n      label: \"\\u0627\\u06CC\\u0645\\u06CC\\u0644\",\n      error: errors.email\n    })), __jsx(Form.Field, {\n      dir: \"rtl\"\n    }, __jsx(\"a\", {\n      href: \"/login\"\n    }, \"\\u0648\\u0631\\u0648\\u062F\")), __jsx(Button, {\n      onClick: this.onSubmit,\n      color: \"blue\",\n      text: \"\\u0627\\u0631\\u0633\\u0627\\u0644 \\u0627\\u06CC\\u0645\\u06CC\\u0644\"\n    }))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}