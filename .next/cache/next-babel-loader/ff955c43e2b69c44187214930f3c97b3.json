{"ast":null,"code":"import _ from 'lodash';\nimport { pageLoadingAction } from './page';\nimport { profileUpdateAPI } from '../api/dashboard';\nexport const PROFILE_CHECK = 'PROFILE_CHECK';\nexport const PROFILE_SUCCESS = 'PROFILE_SUCCESS';\nexport const PROFILE_FAIL = 'PROFILE_FAIL';\nexport const PROFILE_CLEAR = 'PROFILE_CLEAR';\nexport function profileClearAction() {\n  return {\n    type: PROFILE_CLEAR\n  };\n}\nexport function profileCheckerAction(fields) {\n  return {\n    type: PROFILE_CHECK,\n    payload: {\n      fields\n    }\n  };\n}\nexport function profileSuccessAction() {\n  return {\n    type: PROFILE_SUCCESS\n  };\n}\nexport function profileFailAction(errors) {\n  return {\n    type: PROFILE_FAIL,\n    payload: {\n      errors\n    }\n  };\n}\nexport function profileUpdateAction(fields, token) {\n  return (dispatch, getState) => {\n    dispatch(pageLoadingAction(true));\n    dispatch(profileCheckerAction(fields));\n\n    if (_.isEmpty(getState().profile.errors)) {\n      console.log(fields);\n      console.log(token);\n      profileUpdateAPI(fields, token).then(res => {\n        const {\n          data\n        } = res;\n        console.log(data);\n\n        if (data.status_code === 200) {\n          dispatch(profileSuccessAction());\n        } else {\n          dispatch(profileFailAction(data.detail));\n        }\n      });\n    }\n\n    dispatch(pageLoadingAction(false));\n  };\n}","map":{"version":3,"sources":["/Users/Saba/Desktop/Front2/TheFrontEnd/redux/actions/profile.js"],"names":["_","pageLoadingAction","profileUpdateAPI","PROFILE_CHECK","PROFILE_SUCCESS","PROFILE_FAIL","PROFILE_CLEAR","profileClearAction","type","profileCheckerAction","fields","payload","profileSuccessAction","profileFailAction","errors","profileUpdateAction","token","dispatch","getState","isEmpty","profile","console","log","then","res","data","status_code","detail"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,SAASC,iBAAT,QAAkC,QAAlC;AACA,SAASC,gBAAT,QAAiC,kBAAjC;AAEA,OAAO,MAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,MAAMC,eAAe,GAAG,iBAAxB;AACP,OAAO,MAAMC,YAAY,GAAG,cAArB;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;AAEP,OAAO,SAASC,kBAAT,GAA8B;AACnC,SAAO;AACLC,IAAAA,IAAI,EAAEF;AADD,GAAP;AAGD;AAED,OAAO,SAASG,oBAAT,CAA8BC,MAA9B,EAAsC;AAC3C,SAAO;AACLF,IAAAA,IAAI,EAAEL,aADD;AAELQ,IAAAA,OAAO,EAAE;AACPD,MAAAA;AADO;AAFJ,GAAP;AAMD;AAED,OAAO,SAASE,oBAAT,GAAgC;AACrC,SAAO;AACLJ,IAAAA,IAAI,EAAEJ;AADD,GAAP;AAGD;AAED,OAAO,SAASS,iBAAT,CAA2BC,MAA3B,EAAmC;AACxC,SAAO;AACLN,IAAAA,IAAI,EAAEH,YADD;AAELM,IAAAA,OAAO,EAAE;AACPG,MAAAA;AADO;AAFJ,GAAP;AAMD;AAED,OAAO,SAASC,mBAAT,CAA6BL,MAA7B,EAAqCM,KAArC,EAA4C;AACjD,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7BD,IAAAA,QAAQ,CAAChB,iBAAiB,CAAC,IAAD,CAAlB,CAAR;AACAgB,IAAAA,QAAQ,CAACR,oBAAoB,CAACC,MAAD,CAArB,CAAR;;AACA,QAAIV,CAAC,CAACmB,OAAF,CAAUD,QAAQ,GAAGE,OAAX,CAAmBN,MAA7B,CAAJ,EAA0C;AACxCO,MAAAA,OAAO,CAACC,GAAR,CAAYZ,MAAZ;AACAW,MAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACAd,MAAAA,gBAAgB,CAACQ,MAAD,EAASM,KAAT,CAAhB,CAAgCO,IAAhC,CAAsCC,GAAD,IAAS;AAC5C,cAAM;AAAEC,UAAAA;AAAF,YAAWD,GAAjB;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;;AACA,YAAIA,IAAI,CAACC,WAAL,KAAqB,GAAzB,EAA8B;AAC5BT,UAAAA,QAAQ,CAACL,oBAAoB,EAArB,CAAR;AACD,SAFD,MAEO;AACLK,UAAAA,QAAQ,CAACJ,iBAAiB,CAACY,IAAI,CAACE,MAAN,CAAlB,CAAR;AACD;AACF,OARD;AASD;;AACDV,IAAAA,QAAQ,CAAChB,iBAAiB,CAAC,KAAD,CAAlB,CAAR;AACD,GAjBD;AAkBD","sourcesContent":["import _ from 'lodash';\nimport { pageLoadingAction } from './page';\nimport { profileUpdateAPI } from '../api/dashboard';\n\nexport const PROFILE_CHECK = 'PROFILE_CHECK';\nexport const PROFILE_SUCCESS = 'PROFILE_SUCCESS';\nexport const PROFILE_FAIL = 'PROFILE_FAIL';\nexport const PROFILE_CLEAR = 'PROFILE_CLEAR';\n\nexport function profileClearAction() {\n  return {\n    type: PROFILE_CLEAR,\n  };\n}\n\nexport function profileCheckerAction(fields) {\n  return {\n    type: PROFILE_CHECK,\n    payload: {\n      fields,\n    },\n  };\n}\n\nexport function profileSuccessAction() {\n  return {\n    type: PROFILE_SUCCESS,\n  };\n}\n\nexport function profileFailAction(errors) {\n  return {\n    type: PROFILE_FAIL,\n    payload: {\n      errors,\n    },\n  };\n}\n\nexport function profileUpdateAction(fields, token) {\n  return (dispatch, getState) => {\n    dispatch(pageLoadingAction(true));\n    dispatch(profileCheckerAction(fields));\n    if (_.isEmpty(getState().profile.errors)) {\n      console.log(fields);\n      console.log(token)\n      profileUpdateAPI(fields, token).then((res) => {\n        const { data } = res;\n        console.log(data);\n        if (data.status_code === 200) {\n          dispatch(profileSuccessAction());\n        } else {\n          dispatch(profileFailAction(data.detail));\n        }\n      });\n    }\n    dispatch(pageLoadingAction(false));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}