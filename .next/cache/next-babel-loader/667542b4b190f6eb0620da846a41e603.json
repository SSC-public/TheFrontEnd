{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { PROFILE_CHECK, PROFILE_SUCCESS, PROFILE_FAIL, PROFILE_CLEAR } from '../actions/profile';\nimport initialState from '../store/initialState';\nimport produce from 'immer';\n\nfunction profileClearReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.profile;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    draft.success = false;\n    draft.fail = false;\n    draft.errors = {};\n    return draft;\n  });\n}\n\nfunction profileCheckerReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.profile;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    var fields = action.payload.fields;\n\n    var checkFields = _objectSpread({}, fields.password, {}, fields.profile);\n\n    _.forEach(checkFields, function (value, key) {\n      if ((value === '' || _.isUndefined(value)) && key !== 'new_password2' && key != 'new_password1' && key != 'old_password') {\n        draft.errors[key] = 'فیلد خالی است.';\n      }\n    });\n\n    if (checkFields.new_password1 !== checkFields.new_password2) {\n      draft.errors.new_password1 = 'گذرواژه‌ها یکسان نیستند.';\n      draft.errors.new_password2 = 'گذرواژه‌ها یکسان نیستند.';\n    }\n\n    if (checkFields.new_password1 !== '' && !_.isUndefined(checkFields.new_password1) && (checkFields.old_password === '' || _.isUndefined(checkFields.old_password))) {\n      draft.errors.old_password = 'فیلد خالی است.';\n    }\n\n    return draft;\n  });\n}\n\nfunction profileFailReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.profile;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    var errors = action.payload.errors;\n    draft.fail = true;\n    draft.success = false;\n    draft.errors = errors;\n    return draft;\n  });\n}\n\nfunction profileSuccessReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.profile;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    draft.fail = false;\n    draft.success = true;\n    draft.error = {};\n    return draft;\n  });\n}\n\nexport default function profileReducers() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState.profile;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case PROFILE_CHECK:\n      return profileCheckerReducer(state, action);\n\n    case PROFILE_FAIL:\n      return profileFailReducer(state, action);\n\n    case PROFILE_SUCCESS:\n      return profileSuccessReducer(state, action);\n\n    case PROFILE_CLEAR:\n      return profileClearReducer(state, action);\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/Saba/Desktop/Front2/TheFrontEnd/redux/reducers/profile.js"],"names":["PROFILE_CHECK","PROFILE_SUCCESS","PROFILE_FAIL","PROFILE_CLEAR","initialState","produce","profileClearReducer","state","profile","action","draft","success","fail","errors","profileCheckerReducer","fields","payload","checkFields","password","_","forEach","value","key","isUndefined","new_password1","new_password2","old_password","profileFailReducer","profileSuccessReducer","error","profileReducers","type"],"mappings":"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","sourcesContent":["import { PROFILE_CHECK, PROFILE_SUCCESS, PROFILE_FAIL, PROFILE_CLEAR } from '../actions/profile';\nimport initialState from '../store/initialState';\nimport produce from 'immer';\n\nfunction profileClearReducer(state = initialState.profile, action) {\n  return produce(state, (draft) => {\n    draft.success = false;\n    draft.fail = false;\n    draft.errors = {};\n    return draft;\n  });\n}\n\nfunction profileCheckerReducer(state = initialState.profile, action) {\n  return produce(state, (draft) => {\n    const { fields } = action.payload;\n    const checkFields = { ...fields.password, ...fields.profile };\n    _.forEach(checkFields, (value, key) => {\n      if (\n        (value === '' || _.isUndefined(value)) &&\n        key !== 'new_password2' &&\n        key != 'new_password1' &&\n        key != 'old_password'\n      ) {\n        draft.errors[key] = 'فیلد خالی است.';\n      }\n    });\n\n    if (checkFields.new_password1 !== checkFields.new_password2) {\n      draft.errors.new_password1 = 'گذرواژه‌ها یکسان نیستند.';\n      draft.errors.new_password2 = 'گذرواژه‌ها یکسان نیستند.';\n    }\n    if (\n      checkFields.new_password1 !== '' &&\n      !_.isUndefined(checkFields.new_password1) &&\n      (checkFields.old_password === '' || _.isUndefined(checkFields.old_password))\n    ) {\n      draft.errors.old_password = 'فیلد خالی است.';\n    }\n    return draft;\n  });\n}\n\nfunction profileFailReducer(state = initialState.profile, action) {\n  return produce(state, (draft) => {\n    const { errors } = action.payload;\n    draft.fail = true;\n    draft.success = false;\n    draft.errors = errors;\n    return draft;\n  });\n}\n\nfunction profileSuccessReducer(state = initialState.profile, action) {\n  return produce(state, (draft) => {\n    draft.fail = false;\n    draft.success = true;\n    draft.error = {};\n    return draft;\n  });\n}\n\nexport default function profileReducers(state = initialState.profile, action) {\n  switch (action.type) {\n    case PROFILE_CHECK:\n      return profileCheckerReducer(state, action);\n    case PROFILE_FAIL:\n      return profileFailReducer(state, action);\n    case PROFILE_SUCCESS:\n      return profileSuccessReducer(state, action);\n    case PROFILE_CLEAR:\n      return profileClearReducer(state, action);\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}