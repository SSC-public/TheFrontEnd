{"version":3,"file":"static/development/pages/login.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/global/withAuth.jsx","webpack:///./components/user/container.jsx","webpack:///./components/user/input.jsx","webpack:///./components/user/login/container.jsx","webpack:///./components/user/login/form.jsx","webpack:///./components/user/network.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/assign.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-properties.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptors.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/extends.js","webpack:///./pages/login.jsx","webpack:///./redux/actions/auth.js","webpack:///./redux/actions/page.js","webpack:///./redux/api/auth.js","webpack:///./redux/api/index.js","webpack:///external \"axios\"","webpack:///external \"core-js/library/fn/object/assign\"","webpack:///external \"core-js/library/fn/object/define-properties\"","webpack:///external \"core-js/library/fn/object/define-property\"","webpack:///external \"core-js/library/fn/object/get-own-property-descriptor\"","webpack:///external \"core-js/library/fn/object/get-own-property-descriptors\"","webpack:///external \"core-js/library/fn/object/get-own-property-symbols\"","webpack:///external \"core-js/library/fn/object/keys\"","webpack:///external \"js-cookie\"","webpack:///external \"lodash\"","webpack:///external \"next/head\"","webpack:///external \"next/router\"","webpack:///external \"react\"","webpack:///external \"react-redux\"","webpack:///external \"react-spinners\"","webpack:///external \"semantic-ui-react\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","import _ from 'lodash';\nimport Head from 'next/head';\nimport Router from 'next/router';\nimport cookie from 'js-cookie';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Dimmer } from 'semantic-ui-react';\nimport { ClipLoader } from 'react-spinners';\nimport { authorizeAction } from '~/redux/actions/auth';\n\nfunction getSSRToken(headerCookies) {\n  let token = '';\n  _.forEach(_.split(headerCookies, ' '), (headerCookie) => {\n    const key = headerCookie.split('=')[0];\n    const value = _.replace(headerCookie.split('=')[1], ';', '');\n    if (key === 'token' && value !== '%5Bobject%20Object%5D') {\n      token = value;\n    }\n  });\n  return token;\n}\n\nfunction withAuth(loggedIn) {\n  return (WrappedComponent) => {\n    class Wrapper extends Component {\n      static async getInitialProps(ctx) {\n        const { store, isServer, req } = ctx;\n        const token = isServer ? getSSRToken(req.headers.cookie) : cookie.get('token');\n\n        await store.dispatch(authorizeAction(token));\n\n        const pageProps =\n          (await WrappedComponent.getInitialProps) &&\n          (await WrappedComponent.getInitialProps(ctx, token));\n        return { ...pageProps, isServer };\n      }\n\n      render() {\n        const { page, auth } = this.props;\n        const pageLoading =\n          page.loading || (auth.authorized && !loggedIn) || (!auth.authorized && loggedIn);\n        if (_.isUndefined(loggedIn)) {\n          return <WrappedComponent {...this.props} />;\n        }\n        if (!auth.authorized && loggedIn) {\n          Router.push('/login', '/login', { shallow: false });\n        }\n        if (auth.authorized && !loggedIn) {\n          Router.push('/dashboard/tasks', '/dashboard/tasks', { shallow: false });\n        }\n        return (\n          <>\n            <Head>\n              <title>DataDays 2020</title>\n            </Head>\n            <Dimmer active={pageLoading}>\n              <ClipLoader size={75} color=\"#fff\" loading={pageLoading} />\n            </Dimmer>\n            <WrappedComponent {...this.props} />\n          </>\n        );\n      }\n    }\n\n    function mapStateToProps(state, ownProps) {\n      const { page, auth } = state;\n      return {\n        page,\n        auth,\n      };\n    }\n\n    return connect(mapStateToProps, null)(Wrapper);\n  };\n}\n\nexport default withAuth;\n","import React, { Component } from 'react';\nimport { Grid, Image } from 'semantic-ui-react';\nimport network from './network';\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.renderCanvas = this.renderCanvas.bind(this);\n  }\n\n  componentDidMount() {\n    if (window.innerWidth >= 768) {\n      this.renderCanvas();\n    }\n  }\n\n  componentDidUpdate() {\n    if (window.innerWidth >= 768) {\n      this.renderCanvas();\n    }\n  }\n\n  renderCanvas() {\n    if (window.innerWidth >= 700) {\n      network(this.canvas);\n    }\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <Grid\n        celled\n        padded\n        centered\n        style={{\n          padding: 0,\n          width: '100vw',\n          height: '100vh',\n          position: 'absolute',\n        }}\n      >\n        <Grid.Row style={{ height: '100%' }}>\n          <Grid.Column computer={8} only=\"computer\">\n            <a href=\"/\">\n              <Image\n                style={{ zIndex: 1, position: 'absolute', margin: 10 }}\n                size=\"mini\"\n                src=\"/images/logo.png\"\n              />\n            </a>\n\n            <canvas\n              ref={(r) => {\n                this.canvas = r;\n              }}\n              style={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                width: '100%',\n                height: '100%',\n              }}\n            />\n          </Grid.Column>\n\n          <Grid.Column verticalAlign=\"middle\" computer={8} tablet={8} mobile={14}>\n            <a href=\"/\">بازگشت</a>\n            {children}\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    );\n  }\n}\n\nexport default Container;\n","import React, { Component } from 'react';\nimport { Form } from 'semantic-ui-react';\n\nclass Input extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { value: '' };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value,\n    });\n  }\n\n  render() {\n    const { error, type, label, width, name } = this.props;\n    const { value } = this.state;\n    return (\n      <Form.Input\n        style={{ marginBottom: 10 }}\n        error={error}\n        type={type}\n        value={value}\n        label={label}\n        width={width || 8}\n        name={name}\n        onChange={this.handleChange}\n      />\n    );\n  }\n}\n\nexport default Input;\n","import React from 'react';\nimport { Header } from 'semantic-ui-react';\nimport Container from '../container';\nimport Form from './form';\n\nfunction LoginContainer({ auth, login }) {\n  return (\n    <Container>\n      <Header dividing as=\"h1\">\n        ورود\n      </Header>\n      <Form auth={auth} login={login} />\n    </Container>\n  );\n}\n\nexport default LoginContainer;\n","import _ from 'lodash';\nimport React, { Component } from 'react';\nimport { Form as F, Grid, Button, Message } from 'semantic-ui-react';\nimport Input from '../input';\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit() {\n    const { auth, login } = this.props;\n    login(this.username.state.value, this.password.state.value);\n  }\n\n  render() {\n    const { auth } = this.props;\n    const { errors } = auth;\n    return (\n      <Grid centered>\n        <Grid.Column verticalAlign=\"middle\">\n          <F onSubmit={this.onSubmit}>\n            <F.Group width={2} dir=\"rtl\">\n              <Input\n                ref={(c) => {\n                  this.username = c;\n                }}\n                label=\"نام کاربری\"\n                error={errors.username}\n              />\n              <Input\n                ref={(c) => {\n                  this.password = c;\n                }}\n                label=\"گذرواژه\"\n                type=\"password\"\n                error={errors.password}\n              />\n            </F.Group>\n            <F.Field dir=\"rtl\">\n              <Message hidden={_.isEmpty(errors)} negative>\n                مشخصات وارد شده صحیح نمی‌باشد.\n              </Message>\n            </F.Field>\n            <F.Field dir=\"rtl\">\n              <a href=\"/signup\">عضو نیستید؟ حساب کاربری بسازید!</a>\n            </F.Field>\n            <F.Field dir=\"rtl\">\n              <a href=\"/forgot/email\">فراموشی رمز عبور</a>\n            </F.Field>\n            <Button type=\"submit\" primary>\n              ورود\n            </Button>\n          </F>\n        </Grid.Column>\n      </Grid>\n    );\n  }\n}\n\nexport default Form;\n","export default function neuralnet(canvas) {\n  let w = (canvas.width = (3 * window.innerWidth) / 5);\n  let h = (canvas.height = window.innerHeight);\n  const ctx = canvas.getContext('2d');\n  const opts = {\n    range: 180,\n    baseConnections: 3,\n    addedConnections: 5,\n    baseSize: 5,\n    minSize: 1,\n    dataToConnectionSize: 0.4,\n    sizeMultiplier: 0.7,\n    allowedDist: 40,\n    baseDist: 40,\n    addedDist: 30,\n    connectionAttempts: 60,\n\n    dataToConnections: 1,\n    baseSpeed: 0.04,\n    addedSpeed: 0.05,\n    baseGlowSpeed: 0.4,\n    addedGlowSpeed: 0.4,\n\n    rotVelX: 0.003,\n    rotVelY: 0.002,\n\n    repaintColor: '#202020',\n    connectionColor: 'hsla(200,60%,light%,alp)',\n    rootColor: 'hsla(0,60%,light%,alp)',\n    endColor: 'hsla(160,20%,light%,alp)',\n    dataColor: 'hsla(40,80%,light%,alp)',\n\n    wireframeWidth: 0.1,\n    wireframeColor: '#88f',\n\n    depth: 250,\n    focalLength: 250,\n    vanishPoint: {\n      x: w / 2,\n      y: h / 2,\n    },\n  };\n  const squareRange = opts.range * opts.range;\n  const squareAllowed = opts.allowedDist * opts.allowedDist;\n  const mostDistant = opts.depth + opts.range;\n  let sinX = 0;\n  let sinY = 0;\n  let cosX = 0;\n  let cosY = 0;\n  const connections = [];\n  const toDevelop = [];\n  const data = [];\n  const all = [];\n  let tick = 0;\n  let animating = false;\n  const Tau = Math.PI * 2;\n\n  ctx.fillStyle = '#222';\n  ctx.fillRect(0, 0, w, h);\n  ctx.fillStyle = '#ccc';\n  ctx.font = '50px Verdana';\n  ctx.fillText(\n    'Calculating Nodes',\n    w / 2 - ctx.measureText('Calculating Nodes').width / 2,\n    h / 2 - 15,\n  );\n\n  window.setTimeout(init, 4); // to render the loading screen\n\n  function init() {\n    connections.length = 0;\n    data.length = 0;\n    all.length = 0;\n    toDevelop.length = 0;\n\n    var connection = new Connection(0, 0, 0, opts.baseSize);\n    connection.step = Connection.rootStep;\n    connections.push(connection);\n    all.push(connection);\n    connection.link();\n\n    while (toDevelop.length > 0) {\n      toDevelop[0].link();\n      toDevelop.shift();\n    }\n\n    if (!animating) {\n      animating = true;\n      anim();\n    }\n  }\n  function Connection(x, y, z, size) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.size = size;\n\n    this.screen = {};\n\n    this.links = [];\n    this.probabilities = [];\n    this.isEnd = false;\n\n    this.glowSpeed = opts.baseGlowSpeed + opts.addedGlowSpeed * Math.random();\n  }\n  Connection.prototype.link = function() {\n    if (this.size < opts.minSize) return (this.isEnd = true);\n\n    var links = [],\n      connectionsNum = (opts.baseConnections + Math.random() * opts.addedConnections) | 0,\n      attempt = opts.connectionAttempts,\n      alpha,\n      beta,\n      len,\n      cosA,\n      sinA,\n      cosB,\n      sinB,\n      pos = {},\n      passedExisting,\n      passedBuffered;\n\n    while (links.length < connectionsNum && --attempt > 0) {\n      alpha = Math.random() * Math.PI;\n      beta = Math.random() * Tau;\n      len = opts.baseDist + opts.addedDist * Math.random();\n\n      cosA = Math.cos(alpha);\n      sinA = Math.sin(alpha);\n      cosB = Math.cos(beta);\n      sinB = Math.sin(beta);\n\n      pos.x = this.x + len * cosA * sinB;\n      pos.y = this.y + len * sinA * sinB;\n      pos.z = this.z + len * cosB;\n\n      if (pos.x * pos.x + pos.y * pos.y + pos.z * pos.z < squareRange) {\n        passedExisting = true;\n        passedBuffered = true;\n        for (var i = 0; i < connections.length; ++i)\n          if (squareDist(pos, connections[i]) < squareAllowed) passedExisting = false;\n\n        if (passedExisting)\n          for (var i = 0; i < links.length; ++i)\n            if (squareDist(pos, links[i]) < squareAllowed) passedBuffered = false;\n\n        if (passedExisting && passedBuffered) links.push({ x: pos.x, y: pos.y, z: pos.z });\n      }\n    }\n\n    if (links.length === 0) this.isEnd = true;\n    else {\n      for (var i = 0; i < links.length; ++i) {\n        var pos = links[i],\n          connection = new Connection(pos.x, pos.y, pos.z, this.size * opts.sizeMultiplier);\n\n        this.links[i] = connection;\n        all.push(connection);\n        connections.push(connection);\n      }\n      for (var i = 0; i < this.links.length; ++i) toDevelop.push(this.links[i]);\n    }\n  };\n  Connection.prototype.step = function() {\n    this.setScreen();\n    this.screen.color = (this.isEnd ? opts.endColor : opts.connectionColor)\n      .replace('light', 30 + ((tick * this.glowSpeed) % 30))\n      .replace('alp', 0.2 + (1 - this.screen.z / mostDistant) * 0.8);\n\n    for (var i = 0; i < this.links.length; ++i) {\n      ctx.moveTo(this.screen.x, this.screen.y);\n      ctx.lineTo(this.links[i].screen.x, this.links[i].screen.y);\n    }\n  };\n  Connection.rootStep = function() {\n    this.setScreen();\n    this.screen.color = opts.rootColor\n      .replace('light', 30 + ((tick * this.glowSpeed) % 30))\n      .replace('alp', (1 - this.screen.z / mostDistant) * 0.8);\n\n    for (var i = 0; i < this.links.length; ++i) {\n      ctx.moveTo(this.screen.x, this.screen.y);\n      ctx.lineTo(this.links[i].screen.x, this.links[i].screen.y);\n    }\n  };\n  Connection.prototype.draw = function() {\n    ctx.fillStyle = this.screen.color;\n    ctx.beginPath();\n    ctx.arc(this.screen.x, this.screen.y, this.screen.scale * this.size, 0, Tau);\n    ctx.fill();\n  };\n  function Data(connection) {\n    this.glowSpeed = opts.baseGlowSpeed + opts.addedGlowSpeed * Math.random();\n    this.speed = opts.baseSpeed + opts.addedSpeed * Math.random();\n\n    this.screen = {};\n\n    this.setConnection(connection);\n  }\n  Data.prototype.reset = function() {\n    this.setConnection(connections[0]);\n    this.ended = 2;\n  };\n  Data.prototype.step = function() {\n    this.proportion += this.speed;\n\n    if (this.proportion < 1) {\n      this.x = this.ox + this.dx * this.proportion;\n      this.y = this.oy + this.dy * this.proportion;\n      this.z = this.oz + this.dz * this.proportion;\n      this.size = (this.os + this.ds * this.proportion) * opts.dataToConnectionSize;\n    } else this.setConnection(this.nextConnection);\n\n    this.screen.lastX = this.screen.x;\n    this.screen.lastY = this.screen.y;\n    this.setScreen();\n    this.screen.color = opts.dataColor\n      .replace('light', 40 + ((tick * this.glowSpeed) % 50))\n      .replace('alp', 0.2 + (1 - this.screen.z / mostDistant) * 0.6);\n  };\n  Data.prototype.draw = function() {\n    if (this.ended) return --this.ended; // not sre why the thing lasts 2 frames, but it does\n\n    ctx.beginPath();\n    ctx.strokeStyle = this.screen.color;\n    ctx.lineWidth = this.size * this.screen.scale;\n    ctx.moveTo(this.screen.lastX, this.screen.lastY);\n    ctx.lineTo(this.screen.x, this.screen.y);\n    ctx.stroke();\n  };\n  Data.prototype.setConnection = function(connection) {\n    if (connection.isEnd) this.reset();\n    else {\n      this.connection = connection;\n      this.nextConnection = connection.links[(connection.links.length * Math.random()) | 0];\n\n      this.ox = connection.x; // original coordinates\n      this.oy = connection.y;\n      this.oz = connection.z;\n      this.os = connection.size; // base size\n\n      this.nx = this.nextConnection.x; // new\n      this.ny = this.nextConnection.y;\n      this.nz = this.nextConnection.z;\n      this.ns = this.nextConnection.size;\n\n      this.dx = this.nx - this.ox; // delta\n      this.dy = this.ny - this.oy;\n      this.dz = this.nz - this.oz;\n      this.ds = this.ns - this.os;\n\n      this.proportion = 0;\n    }\n  };\n  Connection.prototype.setScreen = Data.prototype.setScreen = function() {\n    var x = this.x,\n      y = this.y,\n      z = this.z;\n\n    // apply rotation on X axis\n    var Y = y;\n    y = y * cosX - z * sinX;\n    z = z * cosX + Y * sinX;\n\n    // rot on Y\n    var Z = z;\n    z = z * cosY - x * sinY;\n    x = x * cosY + Z * sinY;\n\n    this.screen.z = z;\n\n    // translate on Z\n    z += opts.depth;\n\n    this.screen.scale = opts.focalLength / z;\n    this.screen.x = opts.vanishPoint.x + x * this.screen.scale;\n    this.screen.y = opts.vanishPoint.y + y * this.screen.scale;\n  };\n  function squareDist(a, b) {\n    var x = b.x - a.x,\n      y = b.y - a.y,\n      z = b.z - a.z;\n\n    return x * x + y * y + z * z;\n  }\n\n  function anim() {\n    window.requestAnimationFrame(anim);\n\n    ctx.globalCompositeOperation = 'source-over';\n    ctx.fillStyle = opts.repaintColor;\n    ctx.fillRect(0, 0, w, h);\n\n    ++tick;\n\n    var rotX = tick * opts.rotVelX,\n      rotY = tick * opts.rotVelY;\n\n    cosX = Math.cos(rotX);\n    sinX = Math.sin(rotX);\n    cosY = Math.cos(rotY);\n    sinY = Math.sin(rotY);\n\n    if (data.length < connections.length * opts.dataToConnections) {\n      var datum = new Data(connections[0]);\n      data.push(datum);\n      all.push(datum);\n    }\n\n    ctx.globalCompositeOperation = 'lighter';\n    ctx.beginPath();\n    ctx.lineWidth = opts.wireframeWidth;\n    ctx.strokeStyle = opts.wireframeColor;\n    all.map(function(item) {\n      item.step();\n    });\n    ctx.stroke();\n    ctx.globalCompositeOperation = 'source-over';\n    all.sort(function(a, b) {\n      return b.screen.z - a.screen.z;\n    });\n    all.map(function(item) {\n      item.draw();\n    });\n  }\n\n  window.addEventListener('resize', function() {\n    opts.vanishPoint.x = (w = canvas.width = (4 * window.innerWidth) / 5) / 2;\n    opts.vanishPoint.y = (h = canvas.height = window.innerHeight) / 2;\n    ctx.fillRect(0, 0, w, h);\n  });\n  //   window.addEventListener('click', init);\n}\n","module.exports = require(\"core-js/library/fn/object/assign\");","module.exports = require(\"core-js/library/fn/object/define-properties\");","module.exports = require(\"core-js/library/fn/object/define-property\");","module.exports = require(\"core-js/library/fn/object/get-own-property-descriptor\");","module.exports = require(\"core-js/library/fn/object/get-own-property-descriptors\");","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","module.exports = require(\"core-js/library/fn/object/keys\");","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import _Object$assign from \"../../core-js/object/assign\";\nexport default function _extends() {\n  _extends = _Object$assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","/* eslint-disable react/prefer-stateless-function */\nimport Head from 'next/head';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport withAuth from '~/components/global/withAuth';\nimport Container from '~/components/user/login/container';\nimport { loginClearAction, loginAction } from '~/redux/actions/auth';\n\nclass LoginPage extends Component {\n  componentDidMount() {\n    const { clear } = this.props;\n    clear();\n  }\n\n  render() {\n    const { auth, login } = this.props;\n    return (\n      <>\n        <Head>\n          <title>ورود - DataDays 2020</title>\n        </Head>\n        <Container auth={auth} login={login} />\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state, ownProps) {\n  const { auth } = state;\n  return {\n    auth,\n  };\n}\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n  return {\n    clear: () => dispatch(loginClearAction()),\n    login: (username, password) => dispatch(loginAction(username, password)),\n  };\n}\n\nexport default withAuth(false)(connect(mapStateToProps, mapDispatchToProps)(LoginPage));\n","import _ from 'lodash';\nimport { loginAPI, authAPI } from '../api/auth';\nimport { pageLoadingAction } from './page';\n\nexport const LOGIN_CLEAR = 'LOGIN_CLEAR';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const LOGIN_CHECK = 'LOGIN_CHECK';\n\nexport const SET_AUTH = 'SET_AUTH';\n\nexport const LOGOUT = 'LOGOUT';\n\nexport function loginClearAction() {\n  return {\n    type: LOGIN_CLEAR,\n  };\n}\n\nfunction loginSuccessAction(token) {\n  return {\n    type: LOGIN_SUCCESS,\n    payload: {\n      token,\n    },\n  };\n}\n\nfunction loginFailAction(errors) {\n  return {\n    type: LOGIN_FAIL,\n    payload: {\n      errors,\n    },\n  };\n}\n\nexport function loginCheckerAction(fields) {\n  return {\n    type: LOGIN_CHECK,\n    payload: {\n      fields,\n    },\n  };\n}\n\nexport function loginAction(username, password) {\n  return (dispatch, getState) => {\n    dispatch(pageLoadingAction(true));\n    dispatch(loginClearAction());\n    dispatch(loginCheckerAction({ username, password }));\n    if (_.isEmpty(getState().auth.errors)) {\n      loginAPI({ username, password }).then((res) => {\n        const { data } = res;\n        if (data.status_code === 200) {\n          dispatch(loginSuccessAction(data.access));\n          dispatch(pageLoadingAction(false));\n        } else {\n          dispatch(loginFailAction(data.detail));\n          dispatch(pageLoadingAction(false));\n        }\n      });\n    } else {\n      dispatch(pageLoadingAction(false));\n    }\n  };\n}\n\nfunction setAuthAction(auth) {\n  return {\n    type: SET_AUTH,\n    payload: {\n      auth,\n    },\n  };\n}\n\nexport function authorizeAction(token) {\n  return (dispatch) => {\n    return authAPI(token).then((res) => {\n      if (res.data.status_code !== 200) {\n        dispatch(setAuthAction(false));\n        return false;\n      }\n      dispatch(setAuthAction(true));\n      return true;\n    });\n  };\n}\n\nexport function logoutAction() {\n  return {\n    type: LOGOUT,\n  };\n}\n","export const PAGE_LOADING = 'PAGE_LOADING';\n\nexport function pageLoadingAction(loading) {\n  return {\n    type: PAGE_LOADING,\n    payload: {\n      loading,\n    },\n  };\n}\n","import axios from 'axios';\nimport BASE_ADDR from '.';\n\nconst LOGIN = `${BASE_ADDR}/accounts/login`;\nconst AUTH = `${BASE_ADDR}/accounts/profile`;\nconst FORGOT = `${BASE_ADDR}/accounts/password/reset/`;\nconst RESET = `${BASE_ADDR}/accounts/password/reset/confirm/`;\n\nexport function loginAPI(data) {\n  return axios.post(LOGIN, data);\n}\n\nexport function authAPI(token) {\n  return axios.get(AUTH, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  });\n}\n\nexport function forgotAPI(email) {\n  return axios.post(FORGOT, email);\n}\n\nexport function resetAPI(data) {\n  return axios.post(RESET, data);\n}\n","\nimport axios from 'axios';\n\n//const BASE_ADDR = 'http://37.152.190.92/test/api';\nconst BASE_ADDR = 'https://datadays.sharif.edu/api';\nconst TERMS = `${BASE_ADDR}/terms`;\n\nexport const BASE = 'https://datadays.sharif.edu';\n\nexport function termsAPI() {\n  return axios.get(TERMS);\n}\n\nexport default BASE_ADDR;\n","module.exports = require(\"axios\");","module.exports = require(\"core-js/library/fn/object/assign\");","module.exports = require(\"core-js/library/fn/object/define-properties\");","module.exports = require(\"core-js/library/fn/object/define-property\");","module.exports = require(\"core-js/library/fn/object/get-own-property-descriptor\");","module.exports = require(\"core-js/library/fn/object/get-own-property-descriptors\");","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","module.exports = require(\"core-js/library/fn/object/keys\");","module.exports = require(\"js-cookie\");","module.exports = require(\"lodash\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-spinners\");","module.exports = require(\"semantic-ui-react\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAtCA;AACA;AAuCA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAtEA;AACA;AAuEA;;;;;;;;;;;;;;;;;;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AA7BA;AACA;AA8BA;;;;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAtDA;AACA;AAuDA;;;;;;;;;;;;AC7DA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAjCA;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;AC5UA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAjBA;AACA;AAkBA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;;;;;;;;;;;;AC9FA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AADA;AAKA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;ACbA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}